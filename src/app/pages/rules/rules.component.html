<div class="rule-main">
    <div class="table-responsive">
        <div class="table-wrapper">
            <div class="table-title">
                <div class="row mb-20">
                    <div class="col-sm-8"><h2>Rules <b>Details</b></h2></div>
                    <div class="col-sm-4">
                        <button type="button" *ngIf="displayAddRule === actions.INITIAL" (click)="showAddRule()" class="btn btn-primary add-new"><i class="fa fa-plus"></i> Add New Rule</button>
                    </div>
                </div>
            </div>
            <div *ngIf="loginService.message | async as message" class="alert alert-success" role="alert"> {{message}} </div>
            <div *ngIf="displayAddRule === actions.ADD || displayAddRule === actions.UPDATE"  class="add-user-area">
            <form [formGroup]="ruleForm">
                <div class="mb-3">
                    <input id="RuleId" type="hidden" class="form-control"  formControlName="RuleId">
                  </div>
                <div class="mb-3">
                    <label for="rule-name" class="form-label">Rule Name </label>
                    <input id="rule-name" type="text" class="form-control"  formControlName="RuleName" required>
                  </div>
                  <div class="mb-3">
                    <label for="condition" class="form-label">Condition </label>
                    <input id="condition" type="text" class="form-control"  formControlName="Condition" required>
                  </div>
                  <div class="mb-3">
                    <label for="Value" class="form-label">Value </label>
                    <input id="Value" type="text" class="form-control"  formControlName="Value" required>
                  </div>
                    <p>Complete the form to enable button.</p>
                    <button class="btn btn-primary" (click)="onSubmit(ruleForm.value, displayAddRule)" type="submit" [disabled]="!ruleForm.valid">{{ displayAddRule === actions.ADD ? 'Submit' : 'Update'}}</button>
              </form>
            </div>
              <br/>
            <table class="table table-striped table-bordered table-hover" *ngIf="displayAddRule === actions.INITIAL">
                <thead>
                  <tr>
                    <th>Rule Name</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let rule of rules; index as i">
                        <td>{{rule.RuleName}}</td>
                        <td>
                            <a class="edit" (click)="updateRule(rule)"  title="Edit" data-toggle="tooltip"><i class="material-icons">&#xE254;</i></a>
                            <a class="delete" (click)="deleteRule(rule?.RuleId)" title="Delete" data-toggle="tooltip"><i class="material-icons">&#xE872;</i></a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
  </div>     